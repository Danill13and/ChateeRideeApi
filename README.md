```markdown
# Документація API ChâteRidée

## Огляд

Ця документація надає огляд ендпоінтів API для ChâteRidée, французького ресторану. Вона охоплює функціонал кожного ендпоінту, необхідні та додаткові параметри, та очікувані відповіді. Крім того, перелічені фреймворки, бібліотеки, що використовуються в проекті, а також конфігурація бази даних.

## Фреймворки, Бібліотеки та База даних

- **Node.js**: Інтерпретатор JavaScript, побудований на движку JavaScript V8 Chrome.
- **Express**: Мінімалістичний веб-фреймворк для Node.js.
- **Sequelize**: ORM для SQL баз даних.
- **Telegraf**: Фреймворк для створення ботів для Telegram на Node.js.
- **dotenv**: Завантажує змінні середовища з файлу `.env`.
- **uuid**: Для генерації унікальних ідентифікаторів.
- **cors**: Проміжний програмний засіб для увімкнення CORS (Cross-Origin Resource Sharing).
- **PostgreSQL**: Відкрита реляційна система управління базами даних, яка використовується для зберігання даних.

## Конфігурація бази даних

Проект використовує PostgreSQL для управління та зберігання даних. Нижче наведені основні конфігурації для підключення до бази даних PostgreSQL:

- **Database Host**: `localhost`
- **Database Port**: `5432`
- **Database Name**: `chateridee`
- **Username**: `your_username`
- **Password**: `your_password`

Переконайтеся, що у вас є файл `.env`, де вказані наступні змінні середовища:

```plaintext
DB_HOST=localhost
DB_PORT=5432
DB_NAME=chateridee
DB_USER=your_username
DB_PASSWORD=your_password
```

## Ендпоінти

### Ендпоінти категорій

#### Отримати всі категорії

- **Ендпоінт**: `/AllCategory`
- **Метод**: GET
- **Опис**: Отримує всі категорії з бази даних.
- **Тіло запиту**: Відсутнє
- **Відповідь**:
  ```json
  [
    {
      "id": 1,
      "name": "Категорія 1"
    },
    ...
  ]
  ```

#### Створити категорію

- **Ендпоінт**: `/createCategory`
- **Метод**: POST
- **Опис**: Створює нову категорію.
- **Тіло запиту**:
  ```json
  {
    "name": "Назва категорії"
  }
  ```
- **Відповідь**:
  ```json
  {
    "id": 1,
    "name": "Назва категорії"
  }
  ```
- **Відповідь на помилку**:
  ```json
  {
    "error": "name is required"
  }
  ```

### Ендпоінти користувачів

#### Вхід користувача

- **Ендпоінт**: `/userLogin`
- **Метод**: POST
- **Опис**: Автентифікує користувача за його ім'ям, прізвищем і паролем.
- **Тіло запиту**:
  ```json
  {
    "name": "Ім'я",
    "surName": "Прізвище",
    "password": "пароль123"
  }
  ```
- **Відповідь**:
  ```json
  {
    "id": 1,
    "name": "Ім'я",
    "surName": "Прізвище",
    ...
  }
  ```
- **Відповідь на помилку**:
  ```json
  {
    "error": "Name, surname, and password are required"
  }
  ```

#### Створити користувача

- **Ендпоінт**: `/createUsers`
- **Метод**: POST
- **Опис**: Створює нового користувача.
- **Тіло запиту**:
  ```json
  {
    "name": "Ім'я",
    "lastName": "Прізвище",
    "password": "пароль123",
    "rePassword": "пароль123",
    "phoneNumber": "1234567890"
  }
  ```
- **Відповідь**:
  ```json
  {
    "id": 1,
    "name": "Ім'я",
    "surName": "Прізвище",
    "apikey": "uuidv4-згенерований-ключ",
    ...
  }
  ```
- **Відповіді на помилку**:
  ```json
  {
    "error": "Name is required"
  }
  ```

### Ендпоінти продуктів

#### Отримати продукти за категорією

- **Ендпоінт**: `/getProduct/:id`
- **Метод**: GET
- **Опис**: Отримує продукти на основі наданого ідентифікатора категорії.
- **URL-параметр**: `id` (Ідентифікатор категорії)
- **Відповідь**:
  ```json
  [
    {
      "id": 1,
      "name": "Продукт 1",
      "category": 1,
      ...
    },
    ...
  ]
  ```

#### Отримати основний продукт

- **Ендпоінт**: `/mainProduct/:id`
- **Метод**: GET
- **Опис**: Отримує один продукт за його ідентифікатором.
- **URL-параметр**: `id` (Ідентифікатор продукту)
- **Відповідь**:
  ```json
  {
    "id": 1,
    "name": "Основний продукт",
    ...
  }
  ```

### Ендпоінти кошика

#### Додати до кошика

- **Ендпоінт**: `/addToBasket/:id`
- **Метод**: POST
- **Опис**: Додає продукт до кошика користувача.
- **URL-параметр**: `id` (Ідентифікатор продукту)
- **Заголовки**: 
  - `api-key` (необов'язково)
  - `user_token` (необов'язково)
- **Відповідь**:
  ```json
  {
    "id": 1,
    "userID": 1,
    "productID": 1,
    ...
  }
  ```

#### Отримати елементи кошика

- **Ендпоінт**: `/basket`
- **Метод**: GET
- **Опис**: Отрим

ує елементи у кошику користувача.
- **Заголовки**: 
  - `api-key` (необов'язково)
  - `user_token` (необов'язково)
- **Відповідь**:
  ```json
  {
    "prod": [
      {
        "id": 1,
        "name": "Продукт 1",
        ...
      }
    ],
    "basket": [
      {
        "id": 1,
        "productID": 1,
        ...
      }
    ]
  }
  ```

#### Видалити елемент кошика

- **Ендпоінт**: `/deleteBasket`
- **Метод**: POST
- **Опис**: Видаляє продукт з кошика.
- **Тіло запиту**:
  ```json
  {
    "id": 1
  }
  ```
- **Відповідь**:
  ```json
  {
    "message": "delete product"
  }
  ```

#### Збільшити кількість продукту

- **Ендпоінт**: `/productPlus`
- **Метод**: POST
- **Опис**: Збільшує кількість продукту у кошику.
- **Тіло запиту**:
  ```json
  {
    "id": 1
  }
  ```
- **Заголовки**: 
  - `api-key` (необов'язково)
  - `user_token` (необов'язково)
- **Відповідь**:
  ```json
  {
    "id": 1,
    "count": 2,
    ...
  }
  ```

#### Зменшити кількість продукту

- **Ендпоінт**: `/productMinus`
- **Метод**: POST
- **Опис**: Зменшує кількість продукту у кошику.
- **Тіло запиту**:
  ```json
  {
    "id": 1
  }
  ```
- **Заголовки**: 
  - `api-key` (необов'язково)
  - `user_token` (необов'язково)
- **Відповідь**:
  ```json
  {
    "id": 1,
    "count": 1,
    ...
  }
  ```

### Ендпоінти замовлень

#### Розмістити замовлення

- **Ендпоінт**: `/order`
- **Метод**: POST
- **Опис**: Створює замовлення для товарів у кошику користувача.
- **Тіло запиту**:
  ```json
  {
    "totalPrice": 100,
    "orderData": {
      "adress": "123 Вулиця",
      ...
    }
  }
  ```
- **Заголовки**: 
  - `api-key` (необов'язково)
  - `user_token` (необов'язково)
- **Відповідь**:
  ```json
  {
    "invoiceId": "uuidv4-згенерований-ключ",
    ...
  }
  ```

#### Перевірити статус замовлення

- **Ендпоінт**: `/checkOrder`
- **Метод**: GET
- **Опис**: Перевіряє статус очікуючих замовлень.
- **Заголовки**: 
  - `api-key` (необов'язково)
  - `user_token` (необов'язково)
- **Відповідь**:
  ```json
  {
    "status": "success",
    ...
  }
  ```

#### Отримати замовлення за ідентифікатором накладної

- **Ендпоінт**: `/getOrders`
- **Метод**: GET
- **Опис**: Отримує замовлення на основі наданого ідентифікатора накладної.
- **Заголовки**: 
  - `invoice-id` (обов'язково)
- **Відповідь**:
  ```json
  {
    "id": 1,
    "inVoiceId": "uuidv4-згенерований-ключ",
    ...
  }
  ```

### Ендпоінти користувачів

#### Отримати користувача за API ключем

- **Ендпоінт**: `/getUser`
- **Метод**: GET
- **Опис**: Отримує деталі користувача на основі наданого API ключа.
- **Заголовки**: 
  - `api-key` (обов'язково)
- **Відповідь**:
  ```json
  {
    "id": 1,
    "name": "Іван",
    ...
  }
  ```

#### Отримати продукти з кошика

- **Ендпоінт**: `/getProductFromBasket`
- **Метод**: GET
- **Опис**: Отримує продукти з кошика користувача.
- **Заголовки**: 
  - `api-key` (необов'язково)
  - `user_token` (необов'язково)
- **Відповідь**:
  ```json
  {
    "prod": [
      {
        "id": 1,
        "name": "Продукт 1",
        ...
      }
    ],
    "basket": [
      {
        "id": 1,
        "productID": 1,
        ...
      }
    ]
  }
  ```

## Обробка помилок

- **Помилка валідації**:
  ```json
  {
    "error": "Повідомлення про помилку валідації"
  }
  ```

- **Внутрішня помилка**:
  ```json
  {
    "error": "Внутрішня серверна помилка"
  }
  ```

## Висновок

Ця документація API надає детальний посібник для розробників з взаємодії з API ChâteRidée. Для будь-яких питань або підтримки, будь ласка, звертайтесь до репозиторію проекту на GitHub або зв'яжіться з командою розробників.
```
